{"ast":null,"code":"var _jsxFileName = \"/home/engineersticity/Desktop/imarket/src/pages/add_categories.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/pages/add_categories.css';\n\nclass AddCats extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      check: true,\n      name: '',\n      slug: '',\n      image: null,\n      parent: '',\n      List: [],\n      catsList: []\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleCatChange = e => {\n      this.setState({\n        [e.target.id]: e.target.selectedIndex\n      });\n    };\n\n    this.handleImageChange = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(this.state + 'bullshit');\n      let form_data = new FormData();\n      form_data.append('name', this.state.name);\n      form_data.append('slug', this.state.slug);\n      form_data.append('parent', this.state.parent);\n      form_data.append('image', this.state.image, this.state.image.name);\n      let url = 'http://engineersticity.pythonanywhere.com/api/categories/';\n      axios.post(url, form_data, {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          name: '',\n          slug: '',\n          image: null,\n          parent: ''\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getCats = () => {\n      axios.get(\"http://engineersticity.pythonanywhere.com/api/categories/\").then(res => this.setState({\n        catsList: res.data,\n        check: false\n      })).catch(err => console.log(err));\n    };\n\n    this.renderTabList = () => {\n      return React.createElement(\"div\", {\n        className: \"my-5 tab-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    };\n\n    this.renderCats = () => {\n      const viewCompleted = this.state.viewCompleted;\n      const newItems = this.state.catsList.filter(item => item.completed === viewCompleted);\n      return newItems.map(item => React.createElement(\"option\", {\n        key: item.id,\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, item.name));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Add a Category\"), React.createElement(\"div\", {\n      className: \"formcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"w3-container\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Category Name \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Name\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"slug\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Category Slug: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"textarea\",\n      placeholder: \"Category Slug\",\n      id: \"slug\",\n      value: this.state.slug,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Parent Category: \"), React.createElement(\"select\", {\n      className: \"w3-input\",\n      name: \"parent\",\n      id: \"parent\",\n      onChange: this.handleCatChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"This is a ROOT Category\"), this.state.check ? this.getCats() : null, this.renderTabList(), this.renderCats())), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Category Image: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"file\",\n      id: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: this.handleImageChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default AddCats;","map":{"version":3,"sources":["/home/engineersticity/Desktop/imarket/src/pages/add_categories.js"],"names":["React","Component","axios","AddCats","state","check","name","slug","image","parent","List","catsList","handleChange","e","setState","target","id","value","handleCatChange","selectedIndex","handleImageChange","files","handleSubmit","preventDefault","console","log","form_data","FormData","append","url","post","headers","then","res","data","catch","err","getCats","get","renderTabList","renderCats","viewCompleted","newItems","filter","item","completed","map","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iCAAP;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAE5BG,KAF4B,GAEpB;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,IAAI,EAAE,EAFF;AAGJC,MAAAA,IAAI,EAAE,EAHF;AAIJC,MAAAA,KAAK,EAAE,IAJH;AAKJC,MAAAA,MAAM,EAAE,EALJ;AAMJC,MAAAA,IAAI,EAAE,EANF;AAOJC,MAAAA,QAAQ,EAAE;AAPN,KAFoB;;AAAA,SAa5BC,YAb4B,GAaZC,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,EAAV,GAAeH,CAAC,CAACE,MAAF,CAASE;AADd,OAAd;AAGH,KAjB2B;;AAAA,SAmB5BC,eAnB4B,GAmBTL,CAAD,IAAO;AACrB,WAAKC,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,EAAV,GAAeH,CAAC,CAACE,MAAF,CAASI;AADd,OAAd;AAGH,KAvB2B;;AAAA,SAyB5BC,iBAzB4B,GAyBPP,CAAD,IAAO;AACvB,WAAKC,QAAL,CAAc;AACVN,QAAAA,KAAK,EAAEK,CAAC,CAACE,MAAF,CAASM,KAAT,CAAe,CAAf;AADG,OAAd;AAGH,KA7B2B;;AAAA,SAgC5BC,YAhC4B,GAgCZT,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACU,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAL,GAAa,UAAzB;AACA,UAAIsB,SAAS,GAAG,IAAIC,QAAJ,EAAhB;AACAD,MAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyB,KAAKxB,KAAL,CAAWE,IAApC;AACAoB,MAAAA,SAAS,CAACE,MAAV,CAAiB,MAAjB,EAAyB,KAAKxB,KAAL,CAAWG,IAApC;AACAmB,MAAAA,SAAS,CAACE,MAAV,CAAiB,QAAjB,EAA2B,KAAKxB,KAAL,CAAWK,MAAtC;AACAiB,MAAAA,SAAS,CAACE,MAAV,CAAiB,OAAjB,EAA0B,KAAKxB,KAAL,CAAWI,KAArC,EAA4C,KAAKJ,KAAL,CAAWI,KAAX,CAAiBF,IAA7D;AAEA,UAAIuB,GAAG,GAAG,2DAAV;AACA3B,MAAAA,KAAK,CAAC4B,IAAN,CAAWD,GAAX,EAAgBH,SAAhB,EAA2B;AACvBK,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AADc,OAA3B,EAKKC,IALL,CAKUC,GAAG,IAAI;AACTT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACC,IAAhB;AACA,aAAKpB,QAAL,CAAc;AACVR,UAAAA,IAAI,EAAE,EADI;AAEVC,UAAAA,IAAI,EAAE,EAFI;AAGVC,UAAAA,KAAK,EAAE,IAHG;AAIVC,UAAAA,MAAM,EAAE;AAJE,SAAd;AAMH,OAbL,EAcK0B,KAdL,CAcWC,GAAG,IAAIZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAdlB;AAeH,KAzD2B;;AAAA,SA2D5BC,OA3D4B,GA2DlB,MAAM;AACZnC,MAAAA,KAAK,CACAoC,GADL,CACS,2DADT,EAEKN,IAFL,CAEUC,GAAG,IAAI,KAAKnB,QAAL,CAAc;AAACH,QAAAA,QAAQ,EAAEsB,GAAG,CAACC,IAAf;AAAqB7B,QAAAA,KAAK,EAAE;AAA5B,OAAd,CAFjB,EAGK8B,KAHL,CAGWC,GAAG,IAAIZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAHlB;AAIH,KAhE2B;;AAAA,SAkE5BG,aAlE4B,GAkEZ,MAAM;AAClB,aACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAKH,KAxE2B;;AAAA,SA0E5BC,UA1E4B,GA0Ef,MAAM;AAAA,YACRC,aADQ,GACS,KAAKrC,KADd,CACRqC,aADQ;AAEf,YAAMC,QAAQ,GAAG,KAAKtC,KAAL,CAAWO,QAAX,CAAoBgC,MAApB,CACbC,IAAI,IAAIA,IAAI,CAACC,SAAL,KAAmBJ,aADd,CAAjB;AAGA,aAAOC,QAAQ,CAACI,GAAT,CAAaF,IAAI,IACpB;AAAQ,QAAA,GAAG,EAAEA,IAAI,CAAC5B,EAAlB;AAAsB,QAAA,SAAS,EAAC,mEAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK4B,IAAI,CAACtC,IADV,CADG,CAAP;AAKH,KApF2B;AAAA;;AAsF5ByC,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,QAAQ,EAAE,KAAKzB,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAO,MAAA,SAAS,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,MAAjC;AAAwC,MAAA,WAAW,EAAC,MAApD;AAA2D,MAAA,EAAE,EAAC,MAA9D;AAAqE,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWE,IAAvF;AACO,MAAA,QAAQ,EAAE,KAAKM,YADtB;AACoC,MAAA,QAAQ,MAD5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEI;AAAO,MAAA,SAAS,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,UAAjC;AAA4C,MAAA,WAAW,EAAC,eAAxD;AAAwE,MAAA,EAAE,EAAC,MAA3E;AACO,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWG,IADzB;AAEO,MAAA,QAAQ,EAAE,KAAKK,YAFtB;AAEoC,MAAA,QAAQ,MAF5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAPJ,EAcI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAA6B,MAAA,IAAI,EAAC,QAAlC;AAA2C,MAAA,EAAE,EAAC,QAA9C;AAAuD,MAAA,QAAQ,EAAE,KAAKM,eAAtE;AACQ,MAAA,QAAQ,MADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAFJ,EAGK,KAAKd,KAAL,CAAWC,KAAX,GAAmB,KAAKgC,OAAL,EAAnB,GAAoC,IAHzC,EAKK,KAAKE,aAAL,EALL,EAQK,KAAKC,UAAL,EARL,CAFJ,CAdJ,EA4BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAEI;AAAO,MAAA,SAAS,EAAC,UAAjB;AAA4B,MAAA,IAAI,EAAC,MAAjC;AACO,MAAA,EAAE,EAAC,OADV;AAEO,MAAA,MAAM,EAAC,uBAFd;AAEsC,MAAA,QAAQ,EAAE,KAAKpB,iBAFrD;AAEwE,MAAA,QAAQ,MAFhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA5BJ,EAmCI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCJ,CADJ,CAFJ,CADJ;AA6CH;;AApI2B;;AAuIhC,eAAejB,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport '../css/pages/add_categories.css';\n\nclass AddCats extends Component {\n\n    state = {\n        check: true,\n        name: '',\n        slug: '',\n        image: null,\n        parent: '',\n        List: [],\n        catsList: []\n    };\n\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    };\n\n    handleCatChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.selectedIndex\n        })\n    };\n\n    handleImageChange = (e) => {\n        this.setState({\n            image: e.target.files[0]\n        })\n    };\n\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(this.state + 'bullshit');\n        let form_data = new FormData();\n        form_data.append('name', this.state.name);\n        form_data.append('slug', this.state.slug);\n        form_data.append('parent', this.state.parent);\n        form_data.append('image', this.state.image, this.state.image.name);\n\n        let url = 'http://engineersticity.pythonanywhere.com/api/categories/';\n        axios.post(url, form_data, {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        })\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    name: '',\n                    slug: '',\n                    image: null,\n                    parent: ''\n                });\n            })\n            .catch(err => console.log(err))\n    };\n\n    getCats = () => {\n        axios\n            .get(\"http://engineersticity.pythonanywhere.com/api/categories/\")\n            .then(res => this.setState({catsList: res.data, check: false}))\n            .catch(err => console.log(err));\n    };\n\n    renderTabList = () => {\n        return (\n            <div className=\"my-5 tab-list\">\n\n            </div>\n        );\n    };\n\n    renderCats = () => {\n        const {viewCompleted} = this.state;\n        const newItems = this.state.catsList.filter(\n            item => item.completed === viewCompleted\n        );\n        return newItems.map(item => (\n            <option key={item.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                {item.name}\n            </option>\n        ));\n    };\n\n    render() {\n        return (\n            <div className=\"App\">\n                <h1>Add a Category</h1>\n                <div className='formcontainer'>\n                    <form className='w3-container' onSubmit={this.handleSubmit}>\n                        <p>\n                            <label htmlFor=\"name\">Category Name </label>\n                            <input className='w3-input' type=\"text\" placeholder='Name' id='name' value={this.state.name}\n                                   onChange={this.handleChange} required/>\n\n                        </p>\n                        <p>\n                            <label htmlFor=\"slug\">Category Slug: </label>\n                            <input className='w3-input' type=\"textarea\" placeholder='Category Slug' id='slug'\n                                   value={this.state.slug}\n                                   onChange={this.handleChange} required/>\n\n                        </p>\n                        <p>\n                            <label htmlFor=\"parent\">Parent Category: </label>\n                            <select className='w3-input' name=\"parent\" id=\"parent\" onChange={this.handleCatChange}\n                                    required>\n                                <option value=\"none\">This is a ROOT Category</option>\n                                {this.state.check ? this.getCats() : null}\n\n                                {this.renderTabList()}\n\n\n                                {this.renderCats()}\n                            </select>\n\n                        </p>\n                        <p>\n                            <label htmlFor=\"image\">Category Image: </label>\n                            <input className='w3-input' type=\"file\"\n                                   id=\"image\"\n                                   accept=\"image/png, image/jpeg\" onChange={this.handleImageChange} required/>\n                        </p>\n\n                        <input type=\"submit\" value='Add Category'/>\n                    </form>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nexport default AddCats;\n"]},"metadata":{},"sourceType":"module"}