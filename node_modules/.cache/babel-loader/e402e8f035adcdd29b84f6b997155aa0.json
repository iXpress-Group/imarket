{"ast":null,"code":"var _jsxFileName = \"/home/engineersticity/Desktop/imarket/src/pages/add_products.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/pages/add_product.css';\nimport Header from '../components/header';\nimport Footer from '../components/footer';\n\nclass AddProduct extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      check: true,\n      category: '',\n      name: '',\n      description: '',\n      image: null,\n      image_alt: null,\n      former_price: '',\n      discount: '',\n      price: '',\n      productTrackingNo: '',\n      List: [],\n      catsList: []\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleCatChange = e => {\n      this.setState({\n        [e.target.id]: e.target.selectedIndex + 1\n      });\n    };\n\n    this.handleImageChange = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handlealtImageChange = e => {\n      this.setState({\n        image_alt: e.target.files[0]\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(this.state + 'bullshit');\n      let form_data = new FormData();\n      form_data.append('category', this.state.category);\n      form_data.append('name', this.state.name);\n      form_data.append('description', this.state.description);\n      form_data.append('image', this.state.image, this.state.image.name);\n      form_data.append('image_alt', this.state.image_alt);\n      form_data.append('former_price', this.state.former_price);\n      form_data.append('discount', this.state.discount);\n      form_data.append('price', this.state.price);\n      form_data.append('productTrackingNo', this.state.productTrackingNo);\n      let url = 'https://engineersticity.pythonanywhere.com/api/products/';\n      axios.post(url, form_data, {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          category: '',\n          name: '',\n          description: '',\n          image: null,\n          image_alt: null,\n          former_price: '',\n          discount: '',\n          price: '',\n          productTrackingNo: ''\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getCats = () => {\n      axios.get(\"https://engineersticity.pythonanywhere.com/api/categories/\").then(res => this.setState({\n        catsList: res.data,\n        check: false\n      })).catch(err => console.log(err));\n    };\n\n    this.renderTabList = () => {\n      return React.createElement(\"div\", {\n        className: \"my-5 tab-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      });\n    };\n\n    this.renderCats = () => {\n      const viewCompleted = this.state.viewCompleted;\n      const newItems = this.state.catsList.filter(item => item.completed === viewCompleted);\n      return newItems.map(item => React.createElement(\"option\", {\n        key: item.id,\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, item.name));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"AddProduct\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Add a Product\"), React.createElement(\"div\", {\n      className: \"formcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"w3-container\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w3-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w3-col s6 m6 l6 admin_col1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Product Category: \"), React.createElement(\"select\", {\n      className: \"w3-input\",\n      name: \"category\",\n      id: \"category\",\n      onChange: this.handleCatChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.state.check ? this.getCats() : null, this.renderTabList(), this.renderCats())), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Product Name \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Name\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Product Description: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"textarea\",\n      placeholder: \"Description\",\n      id: \"description\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Product Image: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"file\",\n      id: \"image\",\n      accept: \"image/png, image/jpeg\",\n      onChange: this.handleImageChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"image_alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Product Image2: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"file\",\n      id: \"image_alt\",\n      accept: \"image/png, image/jpeg\",\n      onChange: this.handlealtImageChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"w3-col s6 m6 l6 admin_col2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"former_price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Undiscounted Price: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Former_price\",\n      id: \"former_price\",\n      value: this.state.former_price,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"discount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Discount on Product: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Discount %\",\n      id: \"discount\",\n      value: this.state.discount,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Selling Price: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Selling Price\",\n      id: \"price\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"productTrackingNo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Product Tracking No.: \"), React.createElement(\"input\", {\n      className: \"w3-input\",\n      type: \"text\",\n      placeholder: \"Product Tracking No.\",\n      id: \"productTrackingNo\",\n      value: this.state.productTrackingNo,\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })))), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default AddProduct;","map":{"version":3,"sources":["/home/engineersticity/Desktop/imarket/src/pages/add_products.js"],"names":["React","Component","axios","Header","Footer","AddProduct","state","check","category","name","description","image","image_alt","former_price","discount","price","productTrackingNo","List","catsList","handleChange","e","setState","target","id","value","handleCatChange","selectedIndex","handleImageChange","files","handlealtImageChange","handleSubmit","preventDefault","console","log","form_data","FormData","append","url","post","headers","then","res","data","catch","err","getCats","get","renderTabList","renderCats","viewCompleted","newItems","filter","item","completed","map","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport '../css/pages/add_product.css';\nimport Header from '../components/header';\nimport Footer from '../components/footer';\n\nclass AddProduct extends Component {\n\n    state = {\n        check: true,\n        category: '',\n        name: '',\n        description: '',\n        image: null,\n        image_alt: null,\n        former_price: '',\n        discount: '',\n        price: '',\n        productTrackingNo: '',\n        List: [],\n        catsList: []\n    };\n\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    };\n    handleCatChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.selectedIndex + 1\n        })\n    };\n\n    handleImageChange = (e) => {\n        this.setState({\n            image: e.target.files[0]\n        })\n    };\n    handlealtImageChange = (e) => {\n        this.setState({\n            image_alt: e.target.files[0]\n        })\n    };\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(this.state + 'bullshit');\n        let form_data = new FormData();\n        form_data.append('category', this.state.category);\n        form_data.append('name', this.state.name);\n        form_data.append('description', this.state.description);\n        form_data.append('image', this.state.image, this.state.image.name);\n        form_data.append('image_alt', this.state.image_alt);\n        form_data.append('former_price', this.state.former_price);\n        form_data.append('discount', this.state.discount);\n        form_data.append('price', this.state.price);\n        form_data.append('productTrackingNo', this.state.productTrackingNo);\n\n        let url = 'https://engineersticity.pythonanywhere.com/api/products/';\n        axios.post(url, form_data, {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        })\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    category: '',\n                    name: '',\n                    description: '',\n                    image: null,\n                    image_alt: null,\n                    former_price: '',\n                    discount: '',\n                    price: '',\n                    productTrackingNo: '',\n                });\n            })\n            .catch(err => console.log(err))\n    };\n\n    getCats = () => {\n        axios\n            .get(\"https://engineersticity.pythonanywhere.com/api/categories/\")\n            .then(res => this.setState({catsList: res.data, check: false}))\n            .catch(err => console.log(err));\n    };\n\n    renderTabList = () => {\n        return (\n            <div className=\"my-5 tab-list\">\n\n            </div>\n        );\n    };\n\n    renderCats = () => {\n        const {viewCompleted} = this.state;\n        const newItems = this.state.catsList.filter(\n            item => item.completed === viewCompleted\n        );\n        return newItems.map(item => (\n            <option key={item.id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                {item.name}\n            </option>\n        ));\n    };\n\n    render() {\n        return (\n            <div className=\"AddProduct\">\n                <Header/>\n                <h1>Add a Product</h1>\n                <div className='formcontainer'>\n                    <form className='w3-container' onSubmit={this.handleSubmit}>\n\n                        <div className=\"w3-row\">\n                            <div className='w3-col s6 m6 l6 admin_col1'>\n                                <p>\n                                    <label htmlFor=\"category\">Product Category: </label>\n                                    <select className='w3-input' name=\"category\" id=\"category\"\n                                            onChange={this.handleCatChange}\n                                            required>\n                                        {this.state.check ? this.getCats() : null}\n                                        {this.renderTabList()}\n                                        {this.renderCats()}\n                                    </select>\n                                </p>\n                                <p>\n                                    <label htmlFor=\"name\">Product Name </label>\n                                    <input className='w3-input' type=\"text\" placeholder='Name' id='name'\n                                           value={this.state.name}\n                                           onChange={this.handleChange} required/>\n\n                                </p>\n                                <p>\n                                    <label htmlFor=\"description\">Product Description: </label>\n                                    <input className='w3-input' type=\"textarea\" placeholder='Description'\n                                           id='description'\n                                           value={this.state.description}\n                                           onChange={this.handleChange} required/>\n\n                                </p>\n                                <p>\n                                    <label htmlFor=\"image\">Product Image: </label>\n                                    <input className='w3-input' type=\"file\"\n                                           id=\"image\"\n                                           accept=\"image/png, image/jpeg\" onChange={this.handleImageChange} required/>\n                                </p>\n                                <p>\n                                    <label htmlFor=\"image_alt\">Product Image2: </label>\n                                    <input className='w3-input' type=\"file\"\n                                           id=\"image_alt\"\n                                           accept=\"image/png, image/jpeg\" onChange={this.handlealtImageChange}\n                                           required/>\n                                </p>\n                            </div>\n                            <div className='w3-col s6 m6 l6 admin_col2'>\n                                <p>\n                                    <label htmlFor=\"former_price\">Undiscounted Price: </label>\n                                    <input className='w3-input' type=\"text\" placeholder='Former_price' id='former_price'\n                                           value={this.state.former_price}\n                                           onChange={this.handleChange} required/>\n\n                                </p>\n                                <p>\n                                    <label htmlFor=\"discount\">Discount on Product: </label>\n                                    <input className='w3-input' type=\"text\" placeholder='Discount %' id='discount'\n                                           value={this.state.discount}\n                                           onChange={this.handleChange} required/>\n\n                                </p>\n                                <p>\n                                    <label htmlFor=\"price\">Selling Price: </label>\n                                    <input className='w3-input' type=\"text\" placeholder='Selling Price' id='price'\n                                           value={this.state.price}\n                                           onChange={this.handleChange} required/>\n\n                                </p>\n                                <p>\n                                    <label htmlFor=\"productTrackingNo\">Product Tracking No.: </label>\n                                    <input className='w3-input' type=\"text\" placeholder='Product Tracking No.'\n                                           id='productTrackingNo'\n                                           value={this.state.productTrackingNo}\n                                           onChange={this.handleChange} required/>\n                                </p>\n                            </div>\n                        </div>\n                        <input type=\"submit\"/>\n                    </form>\n                </div>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}